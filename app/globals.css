@tailwind base;
@tailwind components;
@tailwind utilities;

/* ======== Light Beige theme ======== */
:root{
/* surfaces */
--bg:#f5efe6; /* light beige */
--bg-soft:#faf7f1; /* panel bg */
--card:#ffffff; /* solid card surface */

/* text */
--text:#2e2737; /* deep neutral for readability */
--muted:#6f6476;

/* brand (subtle purple) */
--primary:#6f4c8f;
--primary-2:#8b6aa6;
--accent:#9c7cc0;

/* states */
--ok:#15803d;
--warn:#b45309;
--danger:#b91c1c;

--ring: 260 45% 46%; /* for shadcn focus rings */
}

html, body, :root { height: 100%; }

/* ---------- Smooth scrolling ---------- */
html {
scroll-behavior: smooth;
}

.smooth-scroll {
scroll-behavior: smooth;
scrollbar-width: thin;
scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
}

.smooth-scroll::-webkit-scrollbar {
width: 8px;
height: 8px;
}

.smooth-scroll::-webkit-scrollbar-track {
background: transparent;
}

.smooth-scroll::-webkit-scrollbar-thumb {
background: rgba(255, 255, 255, 0.2);
border-radius: 4px;
}

.smooth-scroll::-webkit-scrollbar-thumb:hover {
background: rgba(255, 255, 255, 0.3);
}

/* Hide scrollbar but keep scroll functionality */
.hide-scrollbar {
scrollbar-width: none; /* Firefox */
-ms-overflow-style: none; /* IE and Edge */
}

.hide-scrollbar::-webkit-scrollbar {
display: none; /* Chrome, Safari, Opera */
}

/* ---------- Solid base ---------- */
body{
background:transparent;
color:var(--text);
-webkit-font-smoothing:antialiased;
}

/* ---------- Centered, fixed aurora (clean, doesnâ€™t drift) ---------- */
body::before{ content:""; position:fixed; z-index:0; inset:0; pointer-events:none; background:none; opacity:0; }

main, .app-shell, .vault-section { position:relative; z-index:1; }

/* ---------- Base reset ---------- */
@layer base{
body{ @apply antialiased; }
}

/* ---------- Components ---------- */
@layer components{
.glass{ background:rgba(255,255,255,.03); backdrop-filter:blur(10px); border:1px solid rgba(255,255,255,.08); }

.card{
border-radius: .9rem;
padding: 1rem;
border: 1px solid rgba(255,255,255,.08);
background-color: var(--card); /* solid: no bleed */
box-shadow: 0 10px 35px rgba(0,0,0,.45);
}

.hover-glow:hover{
box-shadow: 0 0 0 1px rgba(77,163,255,.25), 0 16px 40px -12px rgba(61,209,243,.25);
}

.brand-btn{
@apply text-white font-medium rounded-md px-3 py-2;
background: linear-gradient(135deg, var(--primary), #2b85ff);
box-shadow: 0 10px 32px -16px rgba(77,163,255,.6);
}

.pill{ @apply rounded-full px-2.5 py-0.5 text-xs font-medium; }
.pill-ok{ background: color-mix(in srgb, var(--ok) 18%, transparent); color: var(--ok); }
.pill-warn{ background: color-mix(in srgb, var(--warn) 18%, transparent); color: var(--warn); }
.pill-danger{ background: color-mix(in srgb, var(--danger) 18%, transparent); color: var(--danger); }

.btn-ghost{ @apply px-2 py-1 rounded-md text-xs border border-white/10 hover:bg-white/5; }
.btn-danger-ghost{ @apply px-2 py-1 rounded-md text-xs border border-white/10 hover:bg-white/5 text-red-300; }

/* Uploader (no dotted border) */
.upload-outer{
position: relative;
border-radius: 1rem;
padding: 1px;
}
.upload-inner{
border-radius: inherit;
background: var(--bg-soft);
padding: 16px;
}
.upload-box{
@apply rounded-xl p-5 text-center transition-transform;
background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02));
border: 1px solid rgba(255,255,255,.08);
}

/* Preview area */
.preview-wrap{
position:relative; border-radius:.75rem; overflow:hidden;
background: var(--card); border:1px solid rgba(255,255,255,.08);
height: 200px;
}
.preview-box{
width:100%; height:100%; display:flex; align-items:center; justify-content:center;
background: var(--card);
}

/* iframe PDF viewer */
.pdf-embed{ width:100%; height:100%; border:0; background:var(--card)!important; }
}

#mobile-nav-portal {
    position: relative;
    z-index: 100;
}

/* compare panes */
.pane { display:flex; flex-direction:column; gap:.5rem; }
.pane-scroll { height: 60vh; overflow:auto; border-radius:.6rem; background: var(--card); }
.pane-inner { min-width: 100%; transform-origin: top left; }
.pane-media { width: 100%; height: auto; display:block; border:none; background: var(--card); }
.pane-meta { padding-top: 0.25rem; display:flex; align-items:center; justify-content:space-between; }

/* diff chips */
.match { background: rgba(34,197,94,.12); color:#86efac; border:1px solid rgba(34,197,94,.25); }
.mismatch { background: rgba(239,68,68,.12); color:#fca5a5; border:1px solid rgba(239,68,68,.25); }

/* small screens */
@media (max-width: 640px){
.pane-scroll { height: 52vh; }
}

@media (max-width: 768px){
    .card { padding: .75rem; }
    .pane-scroll { height: 50vh; }
    .pane-meta { flex-direction: column; align-items: flex-start; gap: .25rem; }
    button { font-size: 12px; }
}

/* ==== Empty Compare styles ==== */
.empty-wrap{
    display: grid;
    gap: 18px;
    }
    
    .glow-card{
    position: relative;
    border-radius: 16px;
    background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
    border: 1px solid rgba(255,255,255,.10);
    box-shadow: 0 20px 60px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.04);
    }
    
    .soft-divider{
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.10), transparent);
    }
    
    .chip{
    display: inline-flex;
    align-items: center;
    gap: .5rem;
    padding: .45rem .65rem;
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,.10);
    background: rgba(255,255,255,.03);
    color: #e5ecff;
    font-size: 12px;
    max-width: 100%;
    transition: background .15s ease, border-color .15s ease;
    }
    .chip:hover{ background: rgba(255,255,255,.06); }
    .chip-active{
    background: rgba(77,163,255,.18);
    border-color: rgba(77,163,255,.45);
    box-shadow: 0 0 0 2px rgba(77,163,255,.15) inset;
    }
    
    .tips-grid{
    display: grid;
    grid-template-columns: 1fr;
    gap: 10px;
    }
    .tip{
    padding: .75rem .85rem;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,.08);
    background: rgba(255,255,255,.03);
    color: #cfd7ee;
    font-size: 13px;
    }
    .tip-bullet{
    width: 6px; height: 6px; border-radius: 999px; display: inline-block; margin-right: 8px;
    background: linear-gradient(135deg, #4da3ff, #3dd1f3);
    }
    
    @media (min-width: 640px) {
    .tips-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
    }

    /* ===== Compliance Card ===== */
.ccard{
    border-radius: 16px;
    overflow: hidden;
    border: 1px solid rgba(255,255,255,.10);
    background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
    box-shadow: 0 20px 60px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.04);
    padding: 16px;
    }
    .ccard-head{
    display:flex; align-items:center; justify-content:space-between;
    gap: 12px; padding: 6px 4px 12px;
    border-bottom: 1px solid rgba(255,255,255,.1);
    }
    .ccard-grid{
    display: grid; gap: 12px; padding-top: 12px;
    grid-template-columns: 1fr; 
    }
    .ccard-entities .entities-table{
    display:grid; gap: 6px;
    grid-template-columns: 140px repeat(auto-fit, minmax(120px,1fr));
    }
    .et-head{ font-size: 12px; color: #9aa4b2; border-bottom: 1px dashed rgba(255,255,255,.12); padding-bottom: 6px; }
    .et-cell{ font-size: 13px; color: #e6ebff; padding: 6px 8px; border-bottom: 1px solid rgba(255,255,255,.06); }
    .et-label{ color:#cfd7ee; font-weight: 600; }
    
    @media (min-width: 900px){
    .ccard-grid{ grid-template-columns: 1fr 1fr; }
    .ccard-entities{ grid-column: 1 / -1; }
    }
    
    /* Print view */
    @media print {
    body { background: white; color: black; }
    header, nav, .app-shell, .brand-btn, .btn-ghost { display: none !important; }
    .ccard { box-shadow: none; border-color: #ddd; color: black; }
    .ccard-head { border-color: #ddd; }
    }
    
    /* Topbar polish */
header.app-shell { transition: box-shadow .2s ease; }

/* Improve clickable areas on small screens */
@media (max-width: 640px){
header .brand-btn { display: none; } /* hide Share if too tight; mobile users can use menu */
}

/* React-PDF Styles */
.react-pdf__Page {
  position: relative;
}

.react-pdf__Page__canvas {
  display: block;
  user-select: none;
}

.react-pdf__Page__textContent {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  opacity: 0.2;
  line-height: 1;
}

.react-pdf__Page__textContent span {
  color: transparent;
  position: absolute;
  white-space: pre;
  cursor: text;
  transform-origin: 0% 0%;
}

.react-pdf__Page__annotations {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

.react-pdf__Page__annotations .linkAnnotation > a,
.react-pdf__Page__annotations .buttonWidgetAnnotation.pushButton > a {
  position: absolute;
  font-size: 1em;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.react-pdf__Page__annotations .linkAnnotation > a:hover,
.react-pdf__Page__annotations .buttonWidgetAnnotation.pushButton > a:hover {
  opacity: 0.2;
  background: rgba(255, 255, 0, 1);
  box-shadow: 0 2px 10px rgba(255, 255, 0, 1);
}

/* ===== Hero subtle aqua waves background ===== */
@keyframes bgWaveShift {
  0% { background-position: 0% 0%, 100% 50%, 50% 100%; }
  50% { background-position: 50% 50%, 50% 0%, 0% 50%; }
  100% { background-position: 100% 100%, 0% 50%, 50% 0%; }
}

.bg-waves{
  position: absolute;
  inset: 0;
  background:
    radial-gradient(60% 60% at 20% 20%, rgba(64, 224, 208, .32), transparent 60%),
    radial-gradient(50% 50% at 80% 30%, rgba(127, 255, 212, .22), transparent 60%),
    radial-gradient(70% 70% at 50% 80%, rgba(0, 191, 255, .18), transparent 65%);
  background-repeat: no-repeat;
  background-size: 140% 140%, 160% 160%, 180% 180%;
  filter: blur(6px) saturate(110%);
  animation: bgWaveShift 16s ease-in-out infinite alternate;
  opacity: .55;
}

/* fixed, global variant for app background */
.bg-waves-fixed{
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

/* ===== Button-only rotateY + bottom-to-top fill ===== */
/* button rotate-fill utility removed */

/* ===== Vault Empty State Animations ===== */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

@keyframes sparkle {
  0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.7; }
  50% { transform: scale(1.2) rotate(180deg); opacity: 1; }
}

@keyframes bounce-dot {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-sparkle {
  animation: sparkle 2s ease-in-out infinite;
}

.animate-bounce-dot {
  animation: bounce-dot 1s ease-in-out infinite;
}

/* ===== Vault Upload Dropzone Animations ===== */
@keyframes gradient-shift {
  0%, 100% { 
    background-position: 0% 50%, 100% 50%, 50% 100%; 
  }
  50% { 
    background-position: 100% 50%, 0% 50%, 50% 0%; 
  }
}

@keyframes pulse-slow {
  0%, 100% { 
    opacity: 0.4; 
    transform: scale(1);
  }
  50% { 
    opacity: 0.7; 
    transform: scale(1.05);
  }
}

.animate-gradient-shift {
  background-size: 200% 200%;
  animation: gradient-shift 8s ease-in-out infinite;
}

.animate-pulse-slow {
  animation: pulse-slow 4s ease-in-out infinite;
}

@keyframes spin-slow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-spin-slow {
  animation: spin-slow 3s linear infinite;
}

@keyframes pulse-scale {
  0%, 100% {
    transform: scale(1);
    filter: brightness(1.1) drop-shadow(0 0 8px rgba(111, 76, 143, 0.4));
  }
  50% {
    transform: scale(1.05);
    filter: brightness(1.2) drop-shadow(0 0 12px rgba(139, 106, 166, 0.6));
  }
}

.animate-pulse-scale {
  animation: pulse-scale 2s ease-in-out infinite;
}

/* Mobile Nav slide-in animation */
@keyframes slideIn {
  from {
    transform: translateX(-100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.animate-slideIn {
  animation: slideIn 0.3s ease-out forwards;
}

/* Vault upload dropzone radial backgrounds */
.vault-bg-radial-1 {
  background: radial-gradient(circle at 30% 50%, rgba(111, 76, 143, 0.08), transparent 50%);
}

.vault-bg-radial-2 {
  background: radial-gradient(circle at 70% 80%, rgba(59, 130, 246, 0.06), transparent 50%);
}

/* Gradient border glow */
.gradient-border-glow {
  position: relative;
  border-radius: 1rem;
}

.gradient-border-glow::before {
  content: '';
  position: absolute;
  inset: -3px;
  border-radius: inherit;
  background: linear-gradient(to right, #00d4ff, #9333ea);
  filter: blur(12px);
  opacity: 0.8;
  animation: border-glow 3s ease-in-out infinite;
  z-index: -2;
}

.gradient-border-glow::after {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  background: linear-gradient(to right, #00d4ff, #9333ea);
  z-index: -1;
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  padding: 2px;
}

@keyframes border-glow {
  0%, 100% {
    opacity: 0.6;
    filter: blur(10px);
  }
  50% {
    opacity: 1;
    filter: blur(16px);
  }
}